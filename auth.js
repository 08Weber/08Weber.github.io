const _0x5008e4=_0x131b;(function(_0x3767ff,_0x510cf2){const _0x3e73d6=_0x131b,_0x58da99=_0x3767ff();while(!![]){try{const _0x23a730=-parseInt(_0x3e73d6(0xb7))/0x1*(parseInt(_0x3e73d6(0xd6))/0x2)+parseInt(_0x3e73d6(0xfc))/0x3*(parseInt(_0x3e73d6(0xa0))/0x4)+-parseInt(_0x3e73d6(0xe4))/0x5+-parseInt(_0x3e73d6(0x114))/0x6*(-parseInt(_0x3e73d6(0xb5))/0x7)+-parseInt(_0x3e73d6(0x112))/0x8*(-parseInt(_0x3e73d6(0xa6))/0x9)+-parseInt(_0x3e73d6(0xb2))/0xa*(-parseInt(_0x3e73d6(0xca))/0xb)+parseInt(_0x3e73d6(0xd8))/0xc;if(_0x23a730===_0x510cf2)break;else _0x58da99['push'](_0x58da99['shift']());}catch(_0x4883c6){_0x58da99['push'](_0x58da99['shift']());}}}(_0x39ae,0xdaa62));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js';import{getDatabase,set,ref,get,update,onValue,query,orderByChild,equalTo,remove}from'https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js';function _0x131b(_0x8f0ecb,_0x4d597e){const _0x39ae90=_0x39ae();return _0x131b=function(_0x131b20,_0x3b5535){_0x131b20=_0x131b20-0x8f;let _0x53109d=_0x39ae90[_0x131b20];return _0x53109d;},_0x131b(_0x8f0ecb,_0x4d597e);}function _0x39ae(){const _0x429c1c=['264znasmH','createElement','conic-gradient(#ffffff\x20','DeufaltName','pathname','updateIdSubmit','AIzaSyBi54kRUTMCIdc0GoP3s0r2-RbJ-Q3z7CI','min','background','amountUsers','frejaeid-b8dca.appspot.com','adminBtn','Apr','entries','Staff','No\x20authenticated\x20user','val','rgb(51,\x2051,\x2066)','innerHTML','roles','slice','age','deg,\x20rgb(51,\x2051,\x2066)\x200deg)','636076EaIzGs','div','then','logged\x20in','DOMContentLoaded','Fel\x20Inloggning','2547fTfbOE','lastname','updatePersonnummer','appendChild','click','Jul','Jan','location','getMonth','files','No\x20images\x20available','\x20/\x20','240Fzdnlx','Sep','signup-email','119245ZhjqLn','length','454583PrgXvJ','ref','May','timestamp','login-submit','round','Latest\x20image\x20is\x20undefined','signup-submit','currentUser','131875669136','lastTwoLetters','Aug','object','Error\x20updating\x20user\x20data:','/images','birthcode','includes','getTime','preventDefault','815529lQJMEw','Feb','imageInput','sort','replace','getElementById','updateAge','You\x20are\x20not\x20an\x20Admin','1:131875669136:web:39c88b6119d1af9c3ac415','Mar','users/','DefualtLastname','6VoJjkM','style','1054644GlAaHk','name','User\x20created','message','.circular-progress','user','block','logoutBtn','innerText','addEventListener','innerHeight','textContent','8947780PbRbTb','catch','username','.progress-value','firstname','querySelector','Foto\x20Sparat','add','frejaeid-b8dca','value','G-298E2DD96R','User\x20logged\x20in:','updatePhotoSubmit','adminDisplayName','Admin','Spara\x20Ändringar','updateBirthcode','items','Error\x20creating\x20user','Registrera\x20Användare','User\x20data\x20updated\x20successfully','signOut','classList','display','15qAqpWr','Jun','uid','backgroundColor','login-email','Ändringar\x20Sparade','rgb(25,\x2026,\x2045)','login.html','frejaeid-b8dca.firebaseapp.com','Nytt\x20Foto','updateName','values','fullage-Data','getDate','Dec','Oct','Error\x20fetching\x20user\x20data:','forEach','User\x20created\x20successfully','lastname-Data','Error\x20uploading\x20image:','log','18008jvFDFa','error'];_0x39ae=function(){return _0x429c1c;};return _0x39ae();}import{getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js';import{getStorage,ref as _0x4f8de3,uploadBytes,getDownloadURL,deleteObject,listAll}from'https://www.gstatic.com/firebasejs/10.7.0/firebase-storage.js';const firebaseConfig={'apiKey':_0x5008e4(0x8f),'authDomain':_0x5008e4(0x104),'databaseURL':'https://frejaeid-b8dca-default-rtdb.europe-west1.firebasedatabase.app','projectId':_0x5008e4(0xec),'storageBucket':_0x5008e4(0x93),'messagingSenderId':_0x5008e4(0xc0),'appId':_0x5008e4(0xd2),'measurementId':_0x5008e4(0xee)},app=initializeApp(firebaseConfig),auth=getAuth(),database=getDatabase(),storage=getStorage(),storageRef=_0x4f8de3(storage),login=document[_0x5008e4(0xcf)](_0x5008e4(0xbb));if(login)login['addEventListener'](_0x5008e4(0xaa),_0x4a6e55=>{const _0x4b1bdb=_0x5008e4;_0x4a6e55[_0x4b1bdb(0xc9)]();const _0x317795=document[_0x4b1bdb(0xcf)](_0x4b1bdb(0x100))[_0x4b1bdb(0xed)],_0x57c366=document[_0x4b1bdb(0xcf)]('login-password')[_0x4b1bdb(0xed)];signInWithEmailAndPassword(auth,_0x317795,_0x57c366)['then'](_0x196fe6=>{const _0xb64c6e=_0x4b1bdb,_0x4b8db6=_0x196fe6[_0xb64c6e(0xdd)],_0x314be8=new Date(),_0x30ca55=window['innerWidth'],_0x3b65e9=window[_0xb64c6e(0xe2)];update(ref(database,'users/'+_0x4b8db6[_0xb64c6e(0xfe)]),{'last_login':_0x314be8,'screen':_0x30ca55+'/'+_0x3b65e9}),alert(_0xb64c6e(0xa3)),window['location'][_0xb64c6e(0xce)]('startup.html');})['catch'](_0x5929f4=>{const _0x195725=_0x4b1bdb;alert(_0x195725(0xa5));});});onAuthStateChanged(auth,_0x3e91cf=>{const _0x3ff523=_0x5008e4;if(_0x3e91cf){console[_0x3ff523(0x111)](_0x3ff523(0xef),_0x3e91cf['email']);const _0x618398=document['getElementById'](_0x3ff523(0x10f)),_0xbde6e=document[_0x3ff523(0xcf)]('name-Data'),_0x177552=document[_0x3ff523(0xcf)]('age-Data'),_0x458824=document[_0x3ff523(0xcf)](_0x3ff523(0x108)),_0x234f20=document[_0x3ff523(0xcf)](_0x3ff523(0xf1)),_0x26bc10=ref(database,'users/'+_0x3e91cf[_0x3ff523(0xfe)]);get(_0x26bc10)[_0x3ff523(0xa2)](_0x57d6a6=>{const _0x38231c=_0x3ff523,_0x3a5629=_0x57d6a6[_0x38231c(0x99)]();if(_0x3a5629){if(_0x618398)_0x618398[_0x38231c(0xe3)]=''+_0x3a5629[_0x38231c(0xa7)];if(_0xbde6e)_0xbde6e[_0x38231c(0xe3)]=''+_0x3a5629[_0x38231c(0xe8)];if(_0x177552)_0x177552[_0x38231c(0xe3)]=''+_0x3a5629[_0x38231c(0x9e)];if(_0x458824)_0x458824[_0x38231c(0xe3)]=''+_0x3a5629[_0x38231c(0xc6)]+_0x3a5629[_0x38231c(0xc1)];if(_0x234f20)_0x234f20[_0x38231c(0xe3)]=''+_0x3a5629[_0x38231c(0xe6)];const _0x3c1eb5=_0x3a5629[_0x38231c(0x9c)]&&_0x3a5629[_0x38231c(0x9c)]['includes']('Admin'),_0x22abf1=document[_0x38231c(0xcf)](_0x38231c(0x94));if(_0x3c1eb5){console[_0x38231c(0x111)]('You\x20are\x20an\x20Admin!');if(_0x22abf1)_0x22abf1[_0x38231c(0xd7)][_0x38231c(0xfb)]=_0x38231c(0xde);const _0x39ea18=getDatabase(),_0x118539=ref(_0x39ea18,_0x38231c(0xd4));get(_0x118539)[_0x38231c(0xa2)](_0x560936=>{const _0x5c66ca=_0x38231c,_0x529439=_0x560936['val']();if(_0x529439&&typeof _0x529439===_0x5c66ca(0xc3)){let _0x21b4c2=0x0;Object[_0x5c66ca(0x96)](_0x529439)[_0x5c66ca(0x10d)](([_0xa21ce7,_0x910d3c])=>{const _0x2a2f6e=_0x5c66ca;if(_0x910d3c[_0x2a2f6e(0x9c)]===_0x2a2f6e(0xf2)||_0x910d3c[_0x2a2f6e(0x9c)]===_0x2a2f6e(0x97)){const _0x271614=document['createElement'](_0x2a2f6e(0xa1));_0x271614[_0x2a2f6e(0xfa)][_0x2a2f6e(0xeb)]('userRow'),_0x271614[_0x2a2f6e(0xd7)][_0x2a2f6e(0xff)]=_0x21b4c2%0x2===0x0?_0x2a2f6e(0x102):_0x2a2f6e(0x9a);const _0x138dc2=document[_0x2a2f6e(0x115)]('div');_0x138dc2['classList'][_0x2a2f6e(0xeb)]('role');const _0x33e58f=document[_0x2a2f6e(0x115)]('p');_0x33e58f[_0x2a2f6e(0xe3)]=_0x910d3c['roles'],_0x138dc2[_0x2a2f6e(0xa9)](_0x33e58f);const _0x5ef5a1=document['createElement'](_0x2a2f6e(0xa1));_0x5ef5a1['classList'][_0x2a2f6e(0xeb)]('user');const _0x44fbdc=document[_0x2a2f6e(0x115)]('p');_0x44fbdc[_0x2a2f6e(0xe3)]=_0x910d3c['username'],_0x5ef5a1['appendChild'](_0x44fbdc);const _0x16785e=document[_0x2a2f6e(0x115)](_0x2a2f6e(0xa1));_0x16785e[_0x2a2f6e(0xfa)][_0x2a2f6e(0xeb)]('empty'),_0x271614[_0x2a2f6e(0xa9)](_0x138dc2),_0x271614['appendChild'](_0x5ef5a1),_0x271614[_0x2a2f6e(0xa9)](_0x16785e),userList[_0x2a2f6e(0xa9)](_0x271614),_0x21b4c2++;}});}else console[_0x5c66ca(0x113)]('Invalid\x20data\x20structure\x20or\x20no\x20data\x20found.');})['catch'](_0x23b9e4=>{const _0x10d65f=_0x38231c;console[_0x10d65f(0x113)](_0x10d65f(0x10c),_0x23b9e4);});const _0x524177=document['getElementById'](_0x38231c(0xbe));if(_0x524177)_0x524177[_0x38231c(0xe1)](_0x38231c(0xaa),_0x3494e3=>{const _0x4cdd79=_0x38231c;_0x3494e3[_0x4cdd79(0xc9)]();const _0x46a363=document[_0x4cdd79(0xcf)](_0x4cdd79(0xb4))['value'],_0x27b2e3=document[_0x4cdd79(0xcf)]('signup-password')[_0x4cdd79(0xed)],_0xeb39f9='',_0x3e5ea4=_0x4cdd79(0x117),_0x506ff7=_0x4cdd79(0xd5),_0x204476='18',_0x37d427='';createUserWithEmailAndPassword(auth,_0x46a363,_0x27b2e3)['then'](_0x10d7b4=>{const _0x25a6ff=_0x4cdd79,_0x5587dc=_0x10d7b4[_0x25a6ff(0xdd)],_0x14a053=initializeApp(firebaseConfig),_0x4acd87=new Date(),_0x4e7596=[_0x25a6ff(0xac),_0x25a6ff(0xcb),_0x25a6ff(0xd3),_0x25a6ff(0x95),_0x25a6ff(0xb9),_0x25a6ff(0xfd),_0x25a6ff(0xab),_0x25a6ff(0xc2),_0x25a6ff(0xb3),_0x25a6ff(0x10b),'Nov',_0x25a6ff(0x10a)],_0x3122b4=_0x4acd87['getFullYear'](),_0x47b46d=_0x4e7596[_0x4acd87[_0x25a6ff(0xae)]()],_0x4da0ed=_0x4acd87[_0x25a6ff(0x109)](),_0x46da96=_0x47b46d+_0x25a6ff(0xb1)+_0x4da0ed+_0x25a6ff(0xb1)+_0x3122b4,_0x588ad7=_0x3a5629['username']+'/'+_0x3a5629[_0x25a6ff(0x9c)];set(ref(database,'users/'+_0x5587dc[_0x25a6ff(0xfe)]),{'email':_0x46a363,'firstname':_0x3e5ea4,'lastname':_0x506ff7,'age':_0x204476,'birthcode':_0xeb39f9,'lastTwoLetters':_0x37d427,'dateCreated':_0x46da96,'createdBy':_0x588ad7}),alert(_0x25a6ff(0x10e)),_0x524177[_0x25a6ff(0x9b)]=_0x25a6ff(0xda),setTimeout(function(){const _0x2b6160=_0x25a6ff;_0x524177[_0x2b6160(0x9b)]=_0x2b6160(0xf7);},0xbb8);})[_0x4cdd79(0xe5)](_0x4a28e9=>{const _0xb48f0b=_0x4cdd79,_0x1f1b53=_0x4a28e9['message'];console['log'](_0x1f1b53),_0x524177['innerText']=_0xb48f0b(0xf6),setTimeout(function(){const _0x149d58=_0xb48f0b;_0x524177[_0x149d58(0xe0)]=_0x149d58(0xf7);},0xbb8);});});let _0x1583f7=document[_0x38231c(0xe9)](_0x38231c(0xdc)),_0x77be34=document[_0x38231c(0xe9)](_0x38231c(0xe7)),_0x3d0e1c=0xb;function _0x489d6d(_0x249436){let _0x4e558c=0x0,_0x42bf1e=setInterval(()=>{const _0x341165=_0x131b;if(_0x4e558c<=_0x249436){let _0x60f65a=_0x4e558c/_0x3d0e1c*0x64+0x1;_0x77be34[_0x341165(0xe3)]=Math[_0x341165(0x90)](Math[_0x341165(0xbc)](_0x60f65a),0x64)+'%',_0x1583f7[_0x341165(0xd7)][_0x341165(0x91)]=_0x341165(0x116)+_0x60f65a*3.6+_0x341165(0x9f),_0x4e558c+=_0x3d0e1c/0x64;}else clearInterval(_0x42bf1e);},0x28);}get(_0x118539)['then'](_0x594f39=>{const _0x68af20=_0x38231c;let _0x126019=0x0;_0x594f39[_0x68af20(0x10d)](()=>{const _0x20634a=_0x68af20;_0x126019++,document[_0x20634a(0xcf)](_0x20634a(0x92))[_0x20634a(0xe0)]=_0x126019;}),_0x489d6d(_0x126019);});}else console[_0x38231c(0x111)](_0x38231c(0xd1));}else console[_0x38231c(0x111)]('User\x20data\x20not\x20found');});}else console[_0x3ff523(0x111)]('User\x20logged\x20out'),!window[_0x3ff523(0xad)][_0x3ff523(0x118)][_0x3ff523(0xc7)](_0x3ff523(0x103))&&window[_0x3ff523(0xad)][_0x3ff523(0xce)]('login.html');});const logout=document[_0x5008e4(0xcf)](_0x5008e4(0xdf));if(logout)logout[_0x5008e4(0xe1)](_0x5008e4(0xaa),_0x2d7375=>{const _0x31fc8a=_0x5008e4;_0x2d7375[_0x31fc8a(0xc9)](),auth[_0x31fc8a(0xf9)]()[_0x31fc8a(0xa2)](()=>{});});function updateUserId(_0x45f50a,_0x26c4a9){const _0x33872e=_0x5008e4,_0x2b39cb=getDatabase(),_0xb5fb0e=ref(_0x2b39cb,_0x33872e(0xd4)+_0x45f50a);update(_0xb5fb0e,_0x26c4a9)[_0x33872e(0xa2)](()=>{const _0xc56dab=_0x33872e,_0x53e4a8=document[_0xc56dab(0xcf)](_0xc56dab(0x119));_0x53e4a8[_0xc56dab(0xed)]=_0xc56dab(0x101),setTimeout(function(){const _0x4e585c=_0xc56dab;_0x53e4a8[_0x4e585c(0xed)]=_0x4e585c(0xf3);},0xbb8),console[_0xc56dab(0x111)](_0xc56dab(0xf8));})['catch'](_0x2acd8b=>{const _0x3e99be=_0x33872e;updateIdSubmit[_0x3e99be(0xed)]='Error',console[_0x3e99be(0x113)](_0x3e99be(0xc4),_0x2acd8b[_0x3e99be(0xdb)]);});}const updateIdSubmit=document[_0x5008e4(0xcf)](_0x5008e4(0x119));updateIdSubmit&&updateIdSubmit[_0x5008e4(0xe1)](_0x5008e4(0xaa),_0x30b544=>{const _0x58ed4d=_0x5008e4;_0x30b544['preventDefault']();const _0x1fcde2=document[_0x58ed4d(0xcf)](_0x58ed4d(0x106))[_0x58ed4d(0xed)],_0x675acf=document[_0x58ed4d(0xcf)]('updateLastname')[_0x58ed4d(0xed)],_0x1a39e7=document['getElementById'](_0x58ed4d(0xd0))[_0x58ed4d(0xe3)],_0x1d58a6=document[_0x58ed4d(0xcf)](_0x58ed4d(0xf4))[_0x58ed4d(0xed)],_0x5ded85=document[_0x58ed4d(0xcf)](_0x58ed4d(0xa8))['value'],_0x2fc4e1=auth[_0x58ed4d(0xbf)];if(_0x2fc4e1){const _0x47a9a0=_0x2fc4e1[_0x58ed4d(0xfe)];updateUserId(_0x47a9a0,{'firstname':_0x1fcde2,'lastname':_0x675acf,'age':_0x1a39e7,'birthcode':_0x1d58a6[_0x58ed4d(0x9d)](0x2)+'-','lastTwoLetters':_0x5ded85});}});document[_0x5008e4(0xe1)](_0x5008e4(0xa4),function(){const _0x5591e7=_0x5008e4,_0x224fd9=document[_0x5591e7(0xcf)](_0x5591e7(0xcc)),_0x851e1d=document[_0x5591e7(0xcf)]('imageDisplay');function _0x58cf01(_0x3007fa){const _0x4cb822=_0x5591e7,_0x2ff4ed=ref(database,'users/'+_0x3007fa+_0x4cb822(0xc5));onValue(_0x2ff4ed,_0x46e3be=>{const _0x15894e=_0x4cb822,_0x39e91e=_0x46e3be['val']();if(_0x39e91e){const _0x50b0cb=Object[_0x15894e(0x107)](_0x39e91e);if(_0x50b0cb[_0x15894e(0xb6)]>0x0){const _0x5acc9e=_0x50b0cb[_0x15894e(0xcd)]((_0x2e4c7d,_0x5e1aa3)=>_0x5e1aa3[_0x15894e(0xba)]-_0x2e4c7d['timestamp'])[0x0];_0x5acc9e?_0x851e1d['src']=_0x5acc9e:console[_0x15894e(0x113)](_0x15894e(0xbd));}else console[_0x15894e(0x111)](_0x15894e(0xb0));}});}auth['onAuthStateChanged'](_0x2235fd=>{const _0x2fe880=_0x5591e7;if(_0x2235fd){const _0xabe6be=_0x2235fd[_0x2fe880(0xfe)];_0x58cf01(_0xabe6be),_0x224fd9&&_0x224fd9[_0x2fe880(0xe1)]('change',async _0x5f41f7=>{const _0x361111=_0x2fe880,_0x270e57=_0x5f41f7['target'][_0x361111(0xaf)][0x0];if(_0x270e57){const _0x15134e=document['getElementById'](_0x361111(0xf0));_0x15134e['value']=_0x361111(0xea);try{await _0x13cffb(_0xabe6be);const _0x5015c8=_0x4f8de3(storage,_0x361111(0xd4)+_0xabe6be+'/images/'+_0x270e57[_0x361111(0xd9)]),_0xac100c=await uploadBytes(_0x5015c8,_0x270e57),_0x129c1e=await getDownloadURL(_0xac100c[_0x361111(0xb8)]),_0x3283aa=new Date()[_0x361111(0xc8)](),_0x624d65=ref(database,_0x361111(0xd4)+_0xabe6be+_0x361111(0xc5));await set(_0x624d65,{'filename':_0x270e57['name'],'downloadURL':_0x129c1e,'timestamp':_0x3283aa}),_0x58cf01(_0xabe6be),_0x15134e[_0x361111(0xed)]=_0x361111(0x105);}catch(_0x3a36e8){console[_0x361111(0x113)](_0x361111(0x110),_0x3a36e8);}}});}else console['error'](_0x2fe880(0x98));});async function _0x13cffb(_0x1d26cb){const _0x448fa6=_0x5591e7,_0x38b5a2=_0x4f8de3(storage,_0x448fa6(0xd4)+_0x1d26cb+_0x448fa6(0xc5)),_0x30afe1=await listAll(_0x38b5a2);await Promise['all'](_0x30afe1[_0x448fa6(0xf5)]['map'](async _0x1a615c=>{await deleteObject(_0x1a615c);}));}});const fileinput=document[_0x5008e4(0xcf)](_0x5008e4(0xcc)),uploadButton=document[_0x5008e4(0xcf)](_0x5008e4(0xf0));if(uploadButton)uploadButton[_0x5008e4(0xe1)](_0x5008e4(0xaa),function(){const _0x38a28a=_0x5008e4;fileinput[_0x38a28a(0xaa)]();});